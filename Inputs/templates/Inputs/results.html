{% extends 'Inputs/layout.html' %}

{% block content %}
    {% for u in uploads %}
    <h2 class="results-header">Results for {{u.criteria}}</h2>
    {% endfor %}
    <table class="results-table">
        <thead>
            <tr>
                <th>Section Name </th>
                <th>LOINC Found</th>
                <th style="text-align:left">Text Data Found</th>
            </tr>
        </thead>
        <tbody>
            {% for oid_name, value in validation.final_dict.items %}
                <tr>
                    <th><i></i>{{ oid_name}} </th>
                    <td> {{ value.LOINC }} </td>
                    {% if value.txt == null or value.txt == "" %}
                        <td> Nothing Found </td>
                    {% else%}
                        <td> {{ value.txt }} </td>
                    {% endif %}
                </tr> 
            {% endfor %}
        </tbody>
    </table>
    <div class="results-button">
        <button >
            <a href="{% url 'inputs' %}">Back to Inputs</a>
        </button>  
        
    </div>
    <br>
    {% for u in uploads%}
    <div>
    <h2 class="results-header">Guide for {{u.criteria}}</h2>
        <table class="results-table">
            <thead>
                <tr>
                    <th>Section Name</th>
                    <th>LOINC Code</th>
                    <th style="text-align:left">Narrative Text Data</th>
                </tr>
            </thead>
            <tbody>
            {% load multifor %}
                {% for oid_name, value in validation.final_dict.items; name in validation.LOINC_List ; i in validation.guide_list  %}
                    <tr>
                        <th><i></i>{{ oid_name}} </th>
                        <td> {{ name }} </td>
                        <td> {{ i}}</td>
                    </tr> 
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% endfor %}
{% endblock %}